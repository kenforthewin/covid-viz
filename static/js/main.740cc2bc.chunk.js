(this["webpackJsonpreact-sqljs-demo"]=this["webpackJsonpreact-sqljs-demo"]||[]).push([[0],{129:function(e,t){},130:function(e,t){},172:function(e,t,n){"use strict";n.r(t);var a=n(3),c=n.n(a),s=n(81),l=n.n(s),r=(n(89),n(82)),o=n.n(r),u=n(83);class i extends c.a.Component{constructor(){super(),this.state={loading:!0,db:null,err:null,results:null}}componentDidMount(){o()().then(e=>{this.setState({db:new e.Database},()=>{this.syncData()})}).catch(e=>this.setState({err:e}))}syncData(){this.exec("DROP TABLE IF EXISTS covid_counties;"),this.exec("CREATE TABLE covid_counties (date TEXT, county TEXT, state TEXT, fips INTEGER, cases INTEGER, deaths INTEGER);"),u.a("https://raw.githubusercontent.com/nytimes/covid-19-data/master/us-counties.csv").then(e=>{for(let t=0,n=e.length;t<n;t+=100){let n=e.slice(t,t+100).map(e=>'("'.concat(e.date,'","').concat(e.county,'","').concat(e.state,'",').concat(e.fips,",").concat(e.cases,",").concat(e.deaths,")")).join(",\n"),a="INSERT INTO covid_counties (date, county, state, fips, cases, deaths)\nVALUES\n".concat(n,";");console.log(a),this.exec(a),this.setState({loading:!1})}})}exec(e){let t=null,n=null;try{t=this.state.db.exec(e)}catch(a){n=a}this.setState({results:t,err:n})}renderResult({columns:e,values:t}){return c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",null,e.map(e=>c.a.createElement("td",null,e)))),c.a.createElement("tbody",null,t.map(e=>c.a.createElement("tr",null,e.map(e=>c.a.createElement("td",null,e))))))}render(){let e=this.state,t=(e.db,e.err),n=e.results;return e.loading?c.a.createElement("pre",null,"Loading..."):c.a.createElement("div",{className:"App"},c.a.createElement("h1",null,"Covid SQL"),c.a.createElement("textarea",{onChange:e=>this.exec(e.target.value),placeholder:"Enter some SQL. Try \u201cSELECT * FROM covid_counties;\u201d"}),c.a.createElement("pre",{className:"error"},(t||"").toString()),c.a.createElement("pre",null,n?n.map(this.renderResult):""))}}const d=document.getElementById("root");l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(i,null)),d)},84:function(e,t,n){e.exports=n(172)},89:function(e,t,n){},94:function(e,t){},96:function(e,t){}},[[84,1,2]]]);
//# sourceMappingURL=main.740cc2bc.chunk.js.map